<!doctype html><html class=no-js lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Gli array - Giovanni Tomasicchio</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Gli Array in PHP"><meta property="og:title" content="Gli array"><meta property="og:description" content="Gli Array in PHP"><meta property="og:type" content="article"><meta property="og:url" content="https://giovannitomasicchio.github.io/corsi/corso-php-base/gli-array/"><meta property="article:section" content="corsi"><meta property="article:published_time" content="2005-07-13T22:32:31+00:00"><meta property="article:modified_time" content="2005-07-13T22:32:31+00:00"><meta itemprop=name content="Gli array"><meta itemprop=description content="Gli Array in PHP"><meta itemprop=datePublished content="2005-07-13T22:32:31+00:00"><meta itemprop=dateModified content="2005-07-13T22:32:31+00:00"><meta itemprop=wordCount content="1443"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Gli array"><meta name=twitter:description content="Gli Array in PHP"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic|Kaushan+Script:regular"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-525H86QENV"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-525H86QENV',{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Giovanni Tomasicchio" rel=home><div class="logo__item logo__text"><div class=logo__title>Giovanni Tomasicchio</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/articoli/><span class=menu__text>Articoli PHP</span></a></li><li class=menu__item><a class=menu__link href=/corsi/><span class=menu__text>Corsi</span></a></li><li class=menu__item><a class=menu__link href=/contatti/><span class=menu__text>Contatti</span></a></li><li class=menu__item><a class=menu__link href=/ricerca/><span class=menu__text>Ricerca</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Gli array</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2005-07-13T22:32:31Z>13 July 2005</time></div></div></header><div class="content post__content clearfix"><p>Quando abbiamo parlato delle variabili abbiamo detto che queste sono come dei contenitori nei quali è possibile conservare un valore, ad esempio un numero o una stringa. In realtà il PHP permette di memorizzare in una variabile anche più di un valore. Questo tipo di variabile si chiama <strong>array</strong>. Ma qual&rsquo;è lo scopo di tutto ciò?</p><p>Supponiamo di dover realizzare un sito che mostra le recensioni di alcuni film. Ogni film avrà un titolo, il nome del regista, i nomi degli attori principali ed una descrizione. Nella pagina principale del sito vogliamo mostrare le ultime 5 recensioni pubblicate. Lo script che andremo a realizzare avrà sicuramente delle variabili nelle quali metteremo queste informazioni. Se per ogni informazione dovessimo usare una variabile il nostro script inizierebbe a complicarsi notevolmente. Ad esempio dovremo avere le variabili $titolo_film_1, $titolo_film_2, $titolo_film_3, ecc, $regista_film_1, $regista_film_2, ecc.</p><p>Se invece riuscissimo a mettere tutte le informazioni di un film in un unica variabile la cosa si semplificherebbe notevolmente. Dovremo gestire infatti solo 5 variabili del tipo $film_1, $film_2, ecc. A fine lezione vedremo che anche una sola variabile è sufficiente a contenere tutte le recensioni!</p><p>C&rsquo;è però un problema: se più informazioni vengono inserite in una variabile come facciamo ad accedere ai singoli dati? Ad un certo punto dovremo mostrare il titolo del film o il nome del regista, magari usando la funzione echo. Come faremo quindi a passare alla funzione echo solo una particolare stringa?</p><p>Queste variabili di tipo array possono gestire il loro contenuto in 2 modi diversi.</p><p>Le informazioni da conservare possono essere inserite nell&rsquo;array attraverso la funzione <strong>array()</strong> semplicemente elencandole una alla volta:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php>$test <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;ciao&#39;</span>, <span style=color:#e6db74>&#39;prova&#39;</span>, <span style=color:#ae81ff>123</span>, <span style=color:#e6db74>&#39;php&#39;</span>, <span style=color:#ae81ff>5.34</span>);
</code></pre></div><p>L&rsquo;array $test conterrà 5 valori (3 stringhe, un numero intero ed uno decimale). Questi valori potranno essere recuperati singolarmente usando semplicemente la loro posizione all&rsquo;interno della lista, chiamata comunemente <strong>indice</strong>, specificata tra parentesi quadre:</p><pre><code>
$test[0] vale 'ciao'
$test[1] vale 'prova'
$test[2] vale 123
$test[3] vale 'php'
$test[4] vale 5.34
</code></pre><p>E importante notare subito che la prima posizione non è la numero 1 bensì la numero 0. Vediamo subito un esempio:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
$film <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;Via col Vento&#39;</span>,<span style=color:#ae81ff>1939</span>,<span style=color:#e6db74>&#39;Victor Fleming&#39;</span>);

<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Titolo film: &#39;</span> , $film[<span style=color:#ae81ff>0</span>];
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>;
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Anno: &#39;</span> , $film[<span style=color:#ae81ff>1</span>];
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>;
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Regista: &#39;</span> , $film[<span style=color:#ae81ff>2</span>];
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>A volte però usare dei numeri (gli indici) per scegliere quale informazione prelevare da un array potrebbe essere scomodo. Immaginate la difficoltà che avremmo nel gestire un array contenente decine e decine di informazioni. Ma il PHP ci viene incontro dandoci la possibilità di usare un nome, chiamato <strong>chiave</strong>, da associare ad ogni valore inserito in un array. Si parla in questo caso di <strong>array associativi</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
$film <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;titolo&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Via col Vento&#39;</span>, <span style=color:#e6db74>&#39;anno&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>1939</span>,<span style=color:#e6db74>&#39;regista&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Victor Fleming&#39;</span>);

<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Titolo film: &#39;</span> , $film[<span style=color:#e6db74>&#39;titolo&#39;</span>];
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>;
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Anno: &#39;</span> , $film[<span style=color:#e6db74>&#39;anno&#39;</span>];
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>;
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Regista: &#39;</span> , $film[<span style=color:#e6db74>&#39;regista&#39;</span>];
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Da notare i caratteri => usati nella costruzione dell&rsquo;array per associare ad ogni chiave il suo valore. Per riferirci alle singole informazioni abbiamo usato proprio la relativa chiave, messa tra parentesi quadre. Questa volta la chiave è una stringa, quindi va posta tra apici.</p><p>Il risultato finale sarà lo stesso dell&rsquo;esempio che usava gli indici numerici, ma in questo caso lo script risulta più chiaro.</p><p>Prima di proseguire con lo studio degli array dobbiamo introdurre la funzione <strong>print_r()</strong>. Tale funzione ci permette di visualizzare in maniera immediata il contenuto e la struttura della variabile che gli passeremo. Sarà usata nei prossimi esempi.</p><p>PHP permette l&rsquo;uso in uno stesso array sia di indici numerici che di coppie chiave => valore. Vediamo come.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#75715e>// definiamo un array $film
</span><span style=color:#75715e></span>$film <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;Via col Vento&#39;</span>, <span style=color:#e6db74>&#39;anno&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>1939</span>,<span style=color:#e6db74>&#39;Victor Fleming&#39;</span>);

<span style=color:#75715e>// visualizziamone la struttura con la funzione print_r
</span><span style=color:#75715e></span><span style=color:#a6e22e>print_r</span>($film);
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Questo sarà il risultato che otterremo. Interessante la funzione print_r vero?</p><pre><code>
Array
(
  [0] =&gt; Via col Vento
  [anno] =&gt; 1939
  [1] =&gt; Victor Fleming
)
</code></pre><p>Notiamo come PHP abbia usato degli indici numerici (0 e 1) per tutti i valori per cui non è stata esplicitata una chiave. Un ultimo esempio chiarirà definitivamente il comportamento di PHP:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
$test <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;scheda&#39;</span>,
             <span style=color:#e6db74>&#39;test&#39;</span><span style=color:#f92672>=&gt;</span><span style=color:#e6db74>&#39;prova&#39;</span>,
             <span style=color:#ae81ff>5</span><span style=color:#f92672>=&gt;</span><span style=color:#e6db74>&#39;full time&#39;</span>,
             <span style=color:#e6db74>&#39;luna&#39;</span>,
             <span style=color:#e6db74>&#39;nome&#39;</span><span style=color:#f92672>=&gt;</span><span style=color:#e6db74>&#39;Marco&#39;</span>,
             <span style=color:#ae81ff>1957</span>,
             <span style=color:#e6db74>&#39;Rossi&#39;</span>,
             <span style=color:#ae81ff>76</span><span style=color:#f92672>=&gt;</span><span style=color:#e6db74>&#39;impiegato&#39;</span>,
             <span style=color:#ae81ff>234</span>);

<span style=color:#a6e22e>print_r</span>($test);
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Ecco il risultato:</p><pre><code>
Array
(
  [0] =&gt; scheda
  [test] =&gt; prova
  [5] =&gt; full time
  [6] =&gt; luna
  [nome] =&gt; Marco
  [7] =&gt; 1957
  [8] =&gt; Rossi
  [76] =&gt; impiegato
  [77] =&gt; 234
)
</code></pre><p>Analizziamo nel dettaglio come il PHP ha costruito l&rsquo;array. Il primo valore (&lsquo;scheda&rsquo;) non ha una chiave, gli viene assegnato automaticamente l&rsquo;indice 0. Il secondo è una coppia chiave => valore (&lsquo;test&rsquo;=>&lsquo;prova&rsquo;), viene presa così com&rsquo;è. Il terzo valore (&lsquo;full time&rsquo;) ha una chiave numerica (5) che il PHP interpreta correttamente come indice numerico. Il quarto valore non ha una chiave, deve quindi ricevere da PHP un indice numerico, che sarà uguale all&rsquo;ultimo assegnato (5) più uno (5 + 1 = 6). Segue un&rsquo;altra coppia chiave => valore e successivamente 2 valori senza chiave. Per lo stesso criterio appena visto assumeranno un indice numerico crescente (7 e 8). Il valore seguente (&lsquo;impiegato&rsquo;) specifica il suo indice numerico (76) che il PHP rispetterà mentre all&rsquo;ultimo valore (234) il PHP assegna l&rsquo;indice successivo (77).</p><p>Riepilogando: il PHP assegna automaticamente un indice numerico a tutti i valori sprovvisti di chiave. L&rsquo;indice parte da 0 e va via via incrementandosi. Quando un valore è presente con un esplicito indice numerico, questo viene rispettato ed ai valori successivi, sprovvisti di indice, ne verrà assegnato uno appena maggiore. E' possibile quindi che si creino dei &ldquo;buchi&rdquo; all&rsquo;interno degli indici numerici dell&rsquo;array.</p><p>Possiamo dire quindi che tutti i valori di un array dispongono di una chiave che può essere una stringa oppure un numero. Quando ci riferiamo ad un elemento di un array dobbiamo quindi far riferimento alla relativa chiave (numerica o testuale) mettendola tra parentesi quadre. Ad esempio scriveremo $test[76] o $test[&lsquo;nome&rsquo;].</p><p>Chiarito il meccanismo di assegnazione delle chiavi, possiamo ora vedere come aggiungere nuovi elementi all&rsquo;interno di un array esistente:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#75715e>// avremmo potuto anche scrivere $test = array();
</span><span style=color:#75715e>// per iniziare con un array completamente vuoto
</span><span style=color:#75715e></span>$test <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;chiave&#39;</span><span style=color:#f92672>=&gt;</span><span style=color:#ae81ff>123</span>,<span style=color:#e6db74>&#39;prova&#39;</span>,<span style=color:#ae81ff>432</span>);

<span style=color:#75715e>// aggiungo una coppia chiave =&gt; valore
</span><span style=color:#75715e></span>$test[<span style=color:#e6db74>&#39;colore&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;rosso&#39;</span>;

<span style=color:#75715e>// aggiungo un semplice valore che prenderà un indice numerico (2)
</span><span style=color:#75715e>// notate le parentesi quadre senza indice o chiave
</span><span style=color:#75715e></span>$test[] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;impiegato&#39;</span>;

<span style=color:#75715e>// aggiungo un valore imponendo un indice (43)
</span><span style=color:#75715e></span>$test[<span style=color:#ae81ff>43</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>12000</span>;

<span style=color:#75715e>// il seguente valore avrà come indice 44
</span><span style=color:#75715e></span>$test[] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;casa&#39;</span>;

<span style=color:#a6e22e>print_r</span>($test);
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Il risultato sarà:</p><pre><code>
Array
(
  [chiave] =&gt; 123
  [0] =&gt; prova
  [1] =&gt; 432
  [colore] =&gt; rosso
  [2] =&gt; impiegato
  [43] =&gt; 12000
  [44] =&gt; casa
)
</code></pre><p>La politica di assegnazione delle chiavi rimane quindi la stessa anche nel caso di inserimento di nuovi elementi all&rsquo;interno di un array preesistente. Il PHP si limiterà a prendere atto delle nuove coppie chiave => valore, sia con chiavi numeriche (indici) sia con schiavi stringa. Nel caso non venga fornita una chiave, il nuovo valore assumerà un indice numerico di una unità superiore al più grande indice già presente nell&rsquo;array.</p><p>Per concludere questa lezione accenniamo al fatto che gli elementi di un array possono essere di qualsiasi tipo: numeri, stringhe ma anche altri array. Vediamo un esempio proprio su quest&rsquo;ultima possibilità:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#75715e>// definiamo un array $film
</span><span style=color:#75715e></span>$film <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;titolo&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Via col Vento&#39;</span>,
       <span style=color:#e6db74>&#39;regista&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Victor Fleming&#39;</span>,
       <span style=color:#e6db74>&#39;attori&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;Vivien Leigh&#39;</span>, <span style=color:#e6db74>&#39;Clark Gable&#39;</span>));

<span style=color:#75715e>// visualizziamone la struttura con la funzione print_r
</span><span style=color:#75715e></span><span style=color:#a6e22e>print_r</span>($film);

<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Scheda film: &#39;</span>
   ,<span style=color:#e6db74>&#39;&lt;br&gt;titolo :&#39;</span> , $film[<span style=color:#e6db74>&#39;titolo&#39;</span>]
   ,<span style=color:#e6db74>&#39;&lt;br&gt;regista :&#39;</span> , $film[<span style=color:#e6db74>&#39;regista&#39;</span>]
   ,<span style=color:#e6db74>&#39;&lt;br&gt;protagonisti :&#39;</span> , $film[<span style=color:#e6db74>&#39;attori&#39;</span>][<span style=color:#ae81ff>0</span>] , <span style=color:#e6db74>&#39;, &#39;</span> , $film[<span style=color:#e6db74>&#39;attori&#39;</span>][<span style=color:#ae81ff>1</span>];
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Questo sarà il risultato:</p><pre><code>
Array
(
  [titolo] =&gt; Via col Vento
  [regista] =&gt; Victor Fleming
  [attori] =&gt; Array
  (
     [0] =&gt; Vivien Leigh
     [1] =&gt; Clark Gable
  )
)
</code></pre><p>Scheda film:</p><p>titolo :Via col Vento</p><p>regista :Victor Fleming</p><p>protagonisti :Vivien Leigh, Clark Gable</p><p>Notate l&rsquo;utilizzo di $film[&lsquo;attori&rsquo;][0] e $film[&lsquo;attori&rsquo;][1] per riferirsi agli elementi dell&rsquo;array &lsquo;attori&rsquo; presente all&rsquo;interno dell&rsquo;array &lsquo;film&rsquo;. Per riferirsi ad un elemento di un array multidimensionale, ovvero a più livelli, si usano tante coppie di parentesi quadre quanti sono i livelli di profondità. Si noti infine come il PHP, attraverso gli array, permette di realizzare complesse strutture ad albero, dotate cioè di diverse ramificazioni interne.</p><p>Grazie a questa notevole flessibilità degli array sarebbe possibile risolvere il problema introdotto all&rsquo;inizio della lezione con un unico array che contenga tutte le recensioni, ciascuna costituita da un array di dati sul film. Scoprirete che tale approccio, unito alle tecniche di iterazione che vedremo nella Lezione 13, risulta essere estremamente efficace.</p><p>Anche per gli array vale lo stesso discorso fatto per le stringhe. Il PHP fornisce molte funzioni atte alla loro manipolazione. Per maggiori informazioni a riguardo basta consultare la sezione ad essi dedicata nel manuale di PHP.</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/corsi/corso-php-base/le-stringhe/ rel=prev><span class=pager__subtitle>«&#8201;Precedente</span><p class=pager__title>Le stringhe</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/corsi/corso-php-base/true-e-false-le-variabili-booleane/ rel=next><span class=pager__subtitle>Prossimo&#8201;»</span><p class=pager__title>true e false - le variabili booleane</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Giovanni Tomasicchio.
<span class=footer__copyright-credits>Generato con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> e il tema <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>