<!doctype html><html class=no-js lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>I form e l'array $_POST - Giovanni Tomasicchio</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Gestire i form HTML con PHP, recuperare l'input dell'utente dall'array $_POST"><meta property="og:title" content="I form e l'array $_POST"><meta property="og:description" content="Gestire i form HTML con PHP, recuperare l'input dell'utente dall'array $_POST"><meta property="og:type" content="article"><meta property="og:url" content="https://giovannitomasicchio.github.io/corsi/corso-php-base/i-form-e-larray-$_post/"><meta property="article:section" content="corsi"><meta property="article:published_time" content="2005-07-13T22:35:08+00:00"><meta property="article:modified_time" content="2005-07-13T22:35:08+00:00"><meta itemprop=name content="I form e l'array $_POST"><meta itemprop=description content="Gestire i form HTML con PHP, recuperare l'input dell'utente dall'array $_POST"><meta itemprop=datePublished content="2005-07-13T22:35:08+00:00"><meta itemprop=dateModified content="2005-07-13T22:35:08+00:00"><meta itemprop=wordCount content="992"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="I form e l'array $_POST"><meta name=twitter:description content="Gestire i form HTML con PHP, recuperare l'input dell'utente dall'array $_POST"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic|Kaushan+Script:regular"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-525H86QENV"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-525H86QENV',{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Giovanni Tomasicchio" rel=home><div class="logo__item logo__text"><div class=logo__title>Giovanni Tomasicchio</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/articoli/><span class=menu__text>Articoli PHP</span></a></li><li class=menu__item><a class=menu__link href=/corsi/><span class=menu__text>Corsi</span></a></li><li class=menu__item><a class=menu__link href=/contatti/><span class=menu__text>Contatti</span></a></li><li class=menu__item><a class=menu__link href=/ricerca/><span class=menu__text>Ricerca</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>I form e l'array $_POST</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2005-07-13T22:35:08Z>13 July 2005</time></div></div></header><div class="content post__content clearfix"><p>Già dalle prime lezioni abbiamo subito imparato a mostrare, con la funzione echo, dei messaggi all&rsquo;utente ovvero a generare un <strong>output</strong>. Adesso vediamo invece come acquisire informazioni dagli utenti, a gestire cioè l'<strong>input</strong> dell&rsquo;utente. Un sito web interattivo deve saper raccogliere dai suoi visitatori dati di diversa natura e per gli scopi più disparati.</p><p>Pensate ad esempio ad un forum ed alle attività ad esso collegate: registrazione, log-in, invio messaggi, ecc. Tutte queste operazioni sono caratterizzate dall&rsquo;invio, da parte dell&rsquo;utente, di diverse informazioni. Non solo testi (il nome, la password, i messaggi, ecc.) ma anche diverse opzioni specificate attraverso l&rsquo;uso di caselle di controllo (check box), pulsanti di scelta (radio buttons), menu a discesa (drop down menu) e altro ancora.</p><p>Questi strumenti vengono messi a disposizione dall&rsquo;HTML attraverso diversi tag (input, select, ecc.) contenuti all&rsquo;interno di un tag <strong>form</strong>. I dati inseriti dall&rsquo;utente vengono inviati ad una pagina specificata nell&rsquo;attributo &ldquo;action&rdquo; dello stesso tag form. Il PHP provvederà a recuperarli ed a inserirli in un array di nome <strong>$_POST</strong> come coppie chiave -> valore. Questo processo avverrà in maniera trasparente ed automatica.</p><p>L&rsquo;array $_POST ha una particolarità ovvero non rispetta le normali regole di visibilità delle variabili (vedi Lezione 19) poiché è accessibile da qualsiasi parte del nostro script, anche all&rsquo;interno delle funzioni. Per questo motivo lo si definisce <strong>superglobale</strong>.</p><p>Il primo esempio che vediamo è costituito da 2 files. Il primo è una normale pagina HTML che contiene il form in cui inserire i dati. Questi verranno inviati al secondo file, che chiameremo prova.php</p><p>Ecco l&rsquo;HTML presente nel primo file. Si noti il valore dell&rsquo;attributo action del tab form.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>form</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form1&#34;</span> <span style=color:#a6e22e>method</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post&#34;</span> <span style=color:#a6e22e>action</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;prova.php&#34;</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Inserisci</span> <span style=color:#a6e22e>il</span> <span style=color:#a6e22e>tuo</span> <span style=color:#a6e22e>nome</span><span style=color:#f92672>:</span> <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nome_utente&#34;</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Invia&#34;</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>form</span><span style=color:#f92672>&gt;</span>
</code></pre></div><p>Segue il codice della pagina prova.php, che riceverà i dati inviati dall&rsquo;utente e che verranno inseriti dal PHP all&rsquo;interno dell&rsquo;array $_POST.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;Il tuo nome è &#39;</span> <span style=color:#f92672>.</span> $_POST[<span style=color:#e6db74>&#39;nome_utente&#39;</span>]);
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Si noti come in questo ultimo script la funzione echo riesca a mostrare il nome inviato dall&rsquo;utente semplicemente utilizzando l&rsquo;array $_POST. La chiave usata per ottenere il nome dell&rsquo;utente è &ldquo;nome_utente&rdquo; ovvero il valore dell&rsquo;attributo &ldquo;name&rdquo; del tag input.</p><p>In realtà non è necessario che la pagina che realizza il form e quella che raccoglie i dati inviati dall&rsquo;utente siano distinte. Se l&rsquo;attributo &ldquo;action&rdquo; viene lasciato vuoto, i dati verranno inviati alla stessa pagina che ha generato il form.</p><p>Il seguente esempio funziona proprio in questo modo: crea un form particolarmente complesso e gestisce anche i dati che verranno inviati:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>form</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form1&#34;</span> <span style=color:#a6e22e>method</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post&#34;</span> <span style=color:#a6e22e>action</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>campo</span> <span style=color:#a6e22e>di</span> <span style=color:#a6e22e>testo</span><span style=color:#f92672>:</span> <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>br</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;textfield&#34;</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>area</span> <span style=color:#a6e22e>di</span> <span style=color:#a6e22e>testo</span><span style=color:#f92672>:&lt;</span><span style=color:#a6e22e>br</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>textarea</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;textarea&#34;</span><span style=color:#f92672>&gt;&lt;/</span><span style=color:#a6e22e>textarea</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;checkbox&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;checkbox&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;checkbox&#34;</span><span style=color:#f92672>&gt;</span>
   <span style=color:#a6e22e>casella</span> <span style=color:#a6e22e>di</span> <span style=color:#a6e22e>controllo</span> <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>label</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;radio&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;radio&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>&gt;</span>
   <span style=color:#a6e22e>Pulsante</span> <span style=color:#a6e22e>di</span> <span style=color:#a6e22e>scelta</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>label</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>br</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>label</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;radio&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;radio&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>&gt;</span>
   <span style=color:#a6e22e>Pulsante</span> <span style=color:#a6e22e>di</span> <span style=color:#a6e22e>scelta</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>label</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>br</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Menu</span><span style=color:#f92672>:&lt;</span><span style=color:#a6e22e>br</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>select</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;select&#34;</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>select</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Elenco</span><span style=color:#f92672>:&lt;</span><span style=color:#a6e22e>br</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>select</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;select2[]&#34;</span> <span style=color:#a6e22e>size</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;5&#34;</span> <span style=color:#a6e22e>multiple</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
     <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>Opzione</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>option</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>select</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
   <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Submit&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Invia&#34;</span><span style=color:#f92672>&gt;</span>
 <span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>p</span><span style=color:#f92672>&gt;</span>
<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>form</span><span style=color:#f92672>&gt;</span>
<span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#66d9ef>if</span>($_POST)
{
   <span style=color:#75715e>// converto alcuni caratteri illeciti per l&#39;HTML
</span><span style=color:#75715e></span>   $testo <span style=color:#f92672>=</span> <span style=color:#a6e22e>htmlspecialchars</span>($_POST[<span style=color:#e6db74>&#39;textfield&#39;</span>]);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;campo di testo: &#39;</span> <span style=color:#f92672>.</span> $testo );
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>);

   <span style=color:#75715e>// converto alcuni caratteri illeciti per l&#39;HTML
</span><span style=color:#75715e></span>   $testo <span style=color:#f92672>=</span> <span style=color:#a6e22e>htmlspecialchars</span>($_POST[<span style=color:#e6db74>&#39;textarea&#39;</span>]);
   <span style=color:#75715e>// converto gli &#39;a capo&#39; con dei &lt;br&gt;
</span><span style=color:#75715e></span>   $testo <span style=color:#f92672>=</span> <span style=color:#a6e22e>nl2br</span>($testo);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;area di testo: &#39;</span> <span style=color:#f92672>.</span>$testo);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>);

   <span style=color:#75715e>// se la casella non è stata selezionata
</span><span style=color:#75715e></span>   <span style=color:#75715e>// allora $_POST[&#39;checkbox&#39;] non sarà settato
</span><span style=color:#75715e></span>   $casella <span style=color:#f92672>=</span> <span style=color:#a6e22e>isset</span>($_POST[<span style=color:#e6db74>&#39;checkbox&#39;</span>]) <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;selezionata&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;non selezionata&#39;</span>;
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;casella di controllo: &#39;</span> <span style=color:#f92672>.</span> $casella);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>);

   <span style=color:#75715e>// se neanche un bottone è stato selezionato
</span><span style=color:#75715e></span>   <span style=color:#75715e>// allora $_POST[&#39;radio&#39;] non sarà settato
</span><span style=color:#75715e></span>   <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>isset</span>($_POST[<span style=color:#e6db74>&#39;radio&#39;</span>]))
       $pulsante <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;selezionato il numero &#39;</span> <span style=color:#f92672>.</span> $_POST[<span style=color:#e6db74>&#39;radio&#39;</span>];
   <span style=color:#66d9ef>else</span>
       $pulsante <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;nessun pulsante selezionato&#39;</span>;
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;Pulsante di scelta: &#39;</span> <span style=color:#f92672>.</span> $pulsante);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>);

   <span style=color:#75715e>// un menu restituisce sempre un valore
</span><span style=color:#75715e></span>   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;Menu: &#39;</span> <span style=color:#f92672>.</span>$_POST[<span style=color:#e6db74>&#39;select&#39;</span>]);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>);

   <span style=color:#75715e>// un elenco a scelta multipla restituisce un array di valori
</span><span style=color:#75715e></span>   <span style=color:#75715e>// se nessun valore è stato selezionato però
</span><span style=color:#75715e></span>   <span style=color:#75715e>// $_POST[&#39;select2&#39;] non sarà settato
</span><span style=color:#75715e></span>   <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>isset</span>($_POST[<span style=color:#e6db74>&#39;select2&#39;</span>]))
       $valori_selezionati <span style=color:#f92672>=</span> <span style=color:#a6e22e>implode</span>($_POST[<span style=color:#e6db74>&#39;select2&#39;</span>],<span style=color:#e6db74>&#39;, &#39;</span>);
   <span style=color:#66d9ef>else</span>
       $valori_selezionati <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Nessun valore selezionato&#39;</span>;
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;Elenco: &#39;</span> <span style=color:#f92672>.</span> $valori_selezionati);
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#39;&lt;br&gt;&#39;</span>);

}
<span style=color:#66d9ef>else</span>
{
   <span style=color:#66d9ef>echo</span>(<span style=color:#e6db74>&#34;Compila il modulo e premi il bottone &#39;Invia&#39;&#34;</span>);
}
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Con l&rsquo;istruzione if($_POST) verifichiamo se il form è stato inviato (vedi Lezione 12 a proposito della conversione array -> booleano). In caso positivo attraverso l&rsquo;array $_POST recuperiamo le informazioni. Si noti il differente approccio usato nel trattamento dei diversi tipi di controlli.</p><p>Per mostrare il contenuto dell&rsquo;area di testo, che permette all&rsquo;utente di inserire un testo anche su più linee (con degli &ldquo;a capo&rdquo;) abbiamo usato la funzione <strong>nl2br</strong>. Questa funzione accoda ad ogni carattere di fine riga (gli &ldquo;a capo&rdquo;) il tag &ldquo;&lt;br>&rdquo; in modo che nella rappresentazione del testo in una pagina HTML vengano rispettate le interruzioni di riga. Se non avessimo usato tale funzione il testo sarebbe stato visualizzato su un&rsquo;unica riga.</p><p>La funzione <strong>htmlspecialchars</strong> invece è servita a convertire eventuali caratteri non leciti per l&rsquo;HTML nella loro corretta rappresentazione. Ad esempio il simbolo di maggiore (>) non può essere riportato in una pagina HTML poiché verrebbe confuso con la chiusura di un tag. Per essere mostrato quindi si fa ricorso ai caratteri &ldquo;&amp;gt;&rdquo;.</p><p>Altre considerazioni sullo script si trovano nei commenti. Si noti in particolare che per gestire un elenco a scelta multipla è necessario che il suo nome finisca con una coppia di parentesi quadre. Nel nostro esempio infatti abbiamo usato il nome select2[]. Quando poi ci si riferisce ad esso attraverso l&rsquo;array $_POST non si usano più tali parentesi. Inoltre il valore di $_POST[&lsquo;select2&rsquo;] sarà un array.</p><p>Concludiamo con un accenno sulle problematiche legate alla gestione di dati provenienti dall&rsquo;utente. Attraverso l&rsquo;array $_POST infatti giungono allo script dei dati che possono essere manipolati ad arte per ottenere degli effetti nocivi oppure più comunemente possono contenere dei dati errati di un utente sbadato. In tutti i casi quindi è buona norma effettuare una serie di controlli prima di utilizzare il contenuto di $_POST in una operazione importante (ad es. un log-in).</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/corsi/corso-php-base/cicli-e-iterazioni-break-e-continue/ rel=prev><span class=pager__subtitle>«&#8201;Precedente</span><p class=pager__title>Cicli e iterazioni: break e continue</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/corsi/corso-php-base/larray-$_get-dati-via-url/ rel=next><span class=pager__subtitle>Prossimo&#8201;»</span><p class=pager__title>L'array $_GET - dati via URL</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//giovannitomasicchio-it.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Giovanni Tomasicchio.
<span class=footer__copyright-credits>Generato con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> e il tema <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>