<!doctype html><html class=no-js lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>La chiave primaria - Giovanni Tomasicchio</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="La chiave primaria"><meta property="og:title" content="La chiave primaria"><meta property="og:description" content="La chiave primaria"><meta property="og:type" content="article"><meta property="og:url" content="https://www.giovannitomasicchio.it/corsi/la-progettazione-dei-database/la-chiave-primaria/"><meta property="article:section" content="corsi"><meta property="article:published_time" content="2007-01-05T12:56:05+00:00"><meta property="article:modified_time" content="2007-01-05T12:56:05+00:00"><meta itemprop=name content="La chiave primaria"><meta itemprop=description content="La chiave primaria"><meta itemprop=datePublished content="2007-01-05T12:56:05+00:00"><meta itemprop=dateModified content="2007-01-05T12:56:05+00:00"><meta itemprop=wordCount content="507"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="La chiave primaria"><meta name=twitter:description content="La chiave primaria"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic|Kaushan+Script:regular"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-525H86QENV"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-525H86QENV',{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Giovanni Tomasicchio" rel=home><div class="logo__item logo__text"><div class=logo__title>Giovanni Tomasicchio</div><div class=logo__tagline>not just code monkeys</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/articoli/><span class=menu__text>Articoli PHP</span></a></li><li class=menu__item><a class=menu__link href=/corsi/><span class=menu__text>Corsi</span></a></li><li class=menu__item><a class=menu__link href=/contatti/><span class=menu__text>Contatti</span></a></li><li class=menu__item><a class=menu__link href=/ricerca/><span class=menu__text>Ricerca</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>La chiave primaria</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2007-01-05T12:56:05Z>5 January 2007</time></div></div></header><div class="content post__content clearfix"><p>Nel primo esempio della lezione 6 si può notare la presenza di un altro tipo di attributo che ha un significato speciale all&rsquo;interno delle entità: l&rsquo;attributo <strong>chiave primaria</strong>. Nel diagramma ER questi attributi vengono indicati con una sottolineatura (nome per l&rsquo;entità film e la coppia nome cognome per l&rsquo;entità persona).</p><p>Gli attributi chiave primaria permettono di individuare univocamente ogni istanza dell&rsquo;entità cui appartengono. Nel nostro caso ad esempio il nome &ldquo;Via col vento&rdquo; individua univocamente una istanza (un preciso film) dell&rsquo;entità film. Non abbiamo bisogno di ulteriori indicazioni sui restati attributi di tale entità per sapere a quale film stiamo facendo riferimento. Per questo motivo in una entità non possono esisterci doppioni, ovvero due o più istanze uguali, altrimenti la chiave primaria non permetterebbe di distinguerle. Quindi non saranno ammessi film con lo stesso nome oppure, se pensiamo all&rsquo;entità persona, non saranno ammesse persone che hanno contemporaneamente lo stesso nome e cognome.</p><p>Se dovessimo realizzare la base di dati dell&rsquo;anagrafe italiana non potremmo mai scegliere la coppia nome e cognome come chiave primaria ma dovremmo ricorrere al codice fiscale che garantisce l&rsquo;univocità per ogni persona.</p><p>Può capitare che in una entità ci siano diversi gruppi di attributi <strong>candidati</strong> a diventare chiave primaria. Nel diagramma ER la scelta ricade sulla chiave che ha una semantica (un significato) maggiormente legato con l&rsquo;entità. Ad esempio nell&rsquo;entità studenti di una università gli attributi matricola e codice fiscale potrebbero essere entrambi usati come chiave primaria. Tra i due si potrebbe scegliere il numero di matricola perché più legato all&rsquo;entità studente considerato il contesto universitario che stiamo modellando.</p><p>Ritorneremo sul concetto di chiave primaria nella lezione 11, quando passeremo alla traduzione dei diagrammi ER in modelli relazionali, e vedremo che la scelta della chiave primaria spesso sarà dettata da considerazioni più contingenti e tecniche. Per ora basta sapere che la chiave primaria è l&rsquo;insieme minimo di attributi che permettono di individuare univocamente ogni istanza dell&rsquo;entità cui appartengono. Proprio per l&rsquo;individuazione univoca non sono ammesse istanze di una stessa entità che abbiano i valori della chiave primaria duplicati ed inoltre nel dominio di valori della chiave non può esserci il NULL. Nel caso peggiore una chiave primaria può essere costituita anche da tutti gli attributi dell&rsquo;entità.</p><p>Ci sono entità per cui non si riesce a trovare un sottoinsieme di attributi in grado di costituire una chiave primaria. Si tratta di entità fortemente connesse attraverso una relazione ad un&rsquo;ulteriore entità, detta <strong>proprietaria</strong>, dalla quale dipende l&rsquo;esistenza di tutte le sue istanze. Per chiarire il concetto vediamo il seguente esempio.</p><p><img src=/image/corsi/progettazione_database/debole.gif alt=debole.gif></p><p>L&rsquo;entità capitolo deve la sua esistenza all&rsquo;entità proprietaria Libro, infatti i suoi attributi non sono sufficienti a definire una chiave primaria. Questa <strong>entità debole</strong> userà come chiave primaria l&rsquo;insieme dell&rsquo;attributo &ldquo;numero capitolo&rdquo; (detta <strong>chiave parziale</strong>) e della stessa relazione &ldquo;contiene&rdquo;. Infatti un capitolo è univocamente individuabile conoscendo il libro da cui è tratto ed il numero di capitolo.</p><p>Prima di concludere è bene precisare che i diagrammi ER contemplano anche altri accorgimenti e costrutti che però non verranno trattati perché esulano dagli obiettivi di questo corso.</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/corsi/la-progettazione-dei-database/il-dominio-di-un-attributo/ rel=prev><span class=pager__subtitle>«&#8201;Precedente</span><p class=pager__title>Il dominio di un attributo</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/corsi/la-progettazione-dei-database/progettazione-logica-il-modello-relazionale/ rel=next><span class=pager__subtitle>Prossimo&#8201;»</span><p class=pager__title>Progettazione logica: il Modello Relazionale</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//giovannitomasicchio-it.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Giovanni Tomasicchio.
<span class=footer__copyright-credits>Generato con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> e il tema <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>