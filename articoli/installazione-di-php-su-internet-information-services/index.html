<!doctype html><html class=no-js lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Installazione di PHP su Internet Information Services - Giovanni Tomasicchio</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Guida all'installazione di PHP su IIS (Internet Information Services)"><meta property="og:title" content="Installazione di PHP su Internet Information Services"><meta property="og:description" content="Guida all'installazione di PHP su IIS (Internet Information Services)"><meta property="og:type" content="article"><meta property="og:url" content="https://giovannitomasicchio.github.io/articoli/installazione-di-php-su-internet-information-services/"><meta property="article:section" content="articoli"><meta property="article:published_time" content="2005-07-04T00:00:00+00:00"><meta property="article:modified_time" content="2005-07-04T00:00:00+00:00"><meta itemprop=name content="Installazione di PHP su Internet Information Services"><meta itemprop=description content="Guida all'installazione di PHP su IIS (Internet Information Services)"><meta itemprop=datePublished content="2005-07-04T00:00:00+00:00"><meta itemprop=dateModified content="2005-07-04T00:00:00+00:00"><meta itemprop=wordCount content="1186"><meta itemprop=keywords content="database,MySQL,GD,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installazione di PHP su Internet Information Services"><meta name=twitter:description content="Guida all'installazione di PHP su IIS (Internet Information Services)"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic|Kaushan+Script:regular"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-525H86QENV"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-525H86QENV',{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Giovanni Tomasicchio" rel=home><div class="logo__item logo__text"><div class=logo__title>Giovanni Tomasicchio</div><div class=logo__tagline>not just code monkeys</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/articoli/><span class=menu__text>Articoli PHP</span></a></li><li class=menu__item><a class=menu__link href=/corsi/><span class=menu__text>Corsi</span></a></li><li class=menu__item><a class=menu__link href=/contatti/><span class=menu__text>Contatti</span></a></li><li class=menu__item><a class=menu__link href=/ricerca/><span class=menu__text>Ricerca</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Installazione di PHP su Internet Information Services</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2005-07-04T00:00:00Z>4 July 2005</time></div></div></header><div class="content post__content clearfix"><p>Chi ha detto che PHP gira solo su Apache? E' vero che la piattaforma LAMP (Linux - Apache - MySQL - PHP) è ormai uno standard de facto nella fornitura di servizi web basati su PHP ma diverse sono le esigenze che ci possono portare a preferire soluzioni basate su Windows e Internet Information Services.</p><p>Infatti capita spesso che sviluppatori ASP o ASP.NET vogliano avvicinarsi al PHP. In questi casi risulta piuttosto scomodo far convivere IIS (necessario per l&rsquo;esecuzione di script ASP) con Apache ed è quindi preferibile che Internet Information Services sia in grado di supportare anche il PHP. In questo articolo vedremo proprio i passi necessari per raggiungere questo scopo. L&rsquo;installazione verrà effettuata su Windows XP Professional SP2 in cui è stato precedentemente installato l&rsquo;IIS 5.1.</p><p>E' doveroso a questo punto fare una premessa circa l&rsquo;installazione di PHP in IIS. Questa integrazione può essere fatta in tre modi: come filtro ISAPI, attraverso le CGI oppure usando il Fast CGI.</p><p>L&rsquo;installazione come <strong>filtro ISAPI</strong> garantisce buone prestazioni nell&rsquo;esecuzione degli script ma può riservare spiacevoli sorprese in quanto a stabilità. Perciò tale approccio è sconsigliato.</p><p>Attraverso le <strong>CGI</strong> (Common Gateway Interface) l&rsquo;IIS è in grado di chiamare il PHP ad ogni esecuzione di script, intercettarne l&rsquo;output e inviarlo al browser. Se questa tecnica risulta particolarmente stabile, fornisce però prestazioni mediocri, adatte magari allo sviluppatore ma non sufficienti per la realizzazione di un server di produzione.</p><p>Infine la modalità <strong>Fast CGI</strong> è la migliore sia sul fronte delle prestazioni che della stabilità. Attualmente questa soluzione è sviluppata dalla <a href=http://www.zend.com/>Zend</a> e fa parte del prodotto <a href=http://www.zend.com/store/products/zend-win-enabler.php>WinEnabler</a>.</p><p>In questo articolo vedremo i semplici passi per integrare PHP attraverso le CGI, soluzione ottimale per lo sviluppatore anche perché a costo zero.</p><hr><h4 id=impostazione-del-path>Impostazione del PATH</h4><p>Procuriamoci il pacchetto compresso di PHP 5 scaricandolo da <a href=http://www.php.net/downloads.php>questa pagina</a>. E' molto importante non scaricare l&rsquo;installer di PHP 5 poiché questo non contiene quelle estensioni che permettono, tra le altre decine di funzionalità, di connetterci a database MySQL. Scegliamo quindi il file indicato con il nome PHP 5.0.4 zip package (o una versione più recente se disponibile). Dopo averlo scaricato, creiamo la cartella &ldquo;C:\php&rdquo; e scompattiamo al suo interno il contenuto del pacchetto zippato di PHP 5.</p><p>Adesso, per evitare di dover spostare diverse librerie di PHP nelle cartelle di sistema, modifichiamo la variabile di sistema &ldquo;Path&rdquo; in modo che contenga il percorso alla cartella di PHP appena creata. Per fare ciò apriamo il &ldquo;Pannello di controllo&rdquo;, clicchiamo sull&rsquo;icona &ldquo;Sistema&rdquo; e nella finestra che ci apparirà portiamo in primo piano il pannello &ldquo;Avanzate&rdquo;. Premiamo quindi il bottone &ldquo;Variabili d&rsquo;ambiente&rdquo; per visualizzare la seguente finestra di dialogo:</p><p><img src=/image/articoli/IIS/path_1.png alt></p><p>Dall&rsquo;elenco delle <em>Variabili di sistema</em> selezioniamo quella di nome &ldquo;Path&rdquo; come mostrato nell&rsquo;immagine precedente e clicchiamo sul tasto Modifica. A questo punto dovremo modificare il valore della variabile aggiungendo in coda la scritta &ldquo;;C:\php&rdquo; come mostrato di seguito. Attenzione a non dimenticare il punto e virgola!</p><p><img src=/image/articoli/IIS/path_2.png alt></p><p>Fatto ciò dobbiamo riavviare Windows per far si che la modifica effettuata abbia effetto.</p><hr><h4 id=modifica-del-phpini>Modifica del php.ini</h4><p>Torniamo adesso nella cartella C:\php e rinominiamo il file php.ini-dist in php.ini. Questo è il file di configurazione di PHP a cui dobbiamo apportare però diverse modifiche. Apriamolo quindi con un editor di testi (il blocco note va benissimo) ed iniziamo la direttiva cgi.force_redirect, come mostrato in figura:</p><p><img src=/image/articoli/IIS/php_ini_1.png alt></p><p>modifichiamo questa riga in</p><p><strong>cgi.force_redirect = 0</strong></p><p>ovvero togliamo il punto e virgola iniziale ed impostiamo il valore a 0.</p><p>Adesso cerchiamo la direttiva doc_root e impostiamo il suo valore a &ldquo;C:\Inetpub\wwwroot&rdquo; ovvero alla root directory di IIS. Dovremmo ottenere qualcosa di simile alla seguente immagine:</p><p><img src=/image/articoli/IIS/php_ini_3.png alt></p><p>La prossima modifica va invece effettuata alla direttiva extension_dir il cui valore andrà impostato a &ldquo;C:\php\ext&rdquo; come mostrato di seguito:</p><p><img src=/image/articoli/IIS/php_ini_2.png alt></p><p>Adesso dobbiamo far si che il PHP carichi alcune librerie di utilizzo comune. Ecco i passi (facoltativi) da seguire:</p><p>- togliere il punto e virgola all&rsquo;inizio della direttiva &ldquo;extension=php_mbstring.dll&rdquo;. L&rsquo;estensione mbstring è necessaria al corretto funzionamento di phpMyAdmin con i set di caratteri multibyte;</p><p>- togliere il punto e virgola all&rsquo;inizio della direttiva &ldquo;extension=php_gd2.dll&rdquo; per caricare la libreria per la manipolazione delle immagini;</p><p>- togliere il punto e virgola all&rsquo;inizio della direttiva &ldquo;extension=php_mysql.dll&rdquo;. L&rsquo;estensione mysql è necessaria per l&rsquo;interazione con l&rsquo;omonimo database.</p><p>Infine conviene modificare anche il valore della direttiva session.save_path in modo che punti ad una cartella di files temporanei del sistema, ad esempio C:\WINDOWS\Temp, come mostrato di seguito:</p><p><img src=/image/articoli/IIS/php_ini_7.png alt></p><p>Salviamo quindi il file e procediamo alla configurazione di IIS.</p><hr><h4 id=configurazione-di-iis>Configurazione di IIS</h4><p>Adesso non ci rimane che istruire l&rsquo;Internet Information Services affinché usi l&rsquo;interprete PHP (il file php-cgi.exe) per l&rsquo;esecuzione dei files con estensione &ldquo;.php&rdquo;.</p><p>Avviamo quindi la console di IIS (Pannello di controllo -> Strumenti di Amministrazione -> Internet Information Services) ed espandiamo la struttura ad albero a sinistra fino a mostrare il &ldquo;Sito Web predefinito&rdquo;. Clicchiamo quindi su questa icona con il tasto destro e selezioniamo la voce &ldquo;Proprietà&rdquo; del menù a tendina, come mostrato di seguito.</p><p><img src=/image/articoli/IIS/IIS_1.png alt></p><p>Clicchiamo sul pannello &ldquo;Home directory&rdquo; per ottenere la seguente schermata:</p><p><img src=/image/articoli/IIS/IIS_2.png alt></p><p>Clicchiamo ora sul bottone &ldquo;configurazione&rdquo; per accedere alle impostazioni di mapping, come visibile dalla seguente schermata.</p><p><img src=/image/articoli/IIS/IIS_3.png alt></p><p>Per aggiungere il supporto agli script PHP dobbiamo cliccare sul pulsante &ldquo;Aggiungi&rdquo; e impostare la finestra di dialogo che ci verrà presentata nel seguente modo:</p><p><img src=/image/articoli/IIS/IIS_4.png alt></p><p>Una volta impostato il percorso dell&rsquo;eseguibile a &ldquo;C:\php\php-cgi.exe&rdquo;, l&rsquo;estensione a &ldquo;.php&rdquo; e le altre impostazioni come mostrato in figura (spuntare <em>Tutti i verbi</em>, <em>Modulo script</em> e <em>Verifica l&rsquo;esistenza dei files</em>) premiamo su &ldquo;Ok&rdquo;.</p><p>L&rsquo;impostazione di IIS è terminata!</p><hr><h4 id=test-con-phpinfo>Test con phpinfo</h4><p>Completati tutti i passi precedentemente descritti non ci resta che verificare il buon esito della procedura. Lo faremo realizzando un piccolo script che ci permetterà anche di avere informazioni aggiuntive sulla nostra installazione.</p><p>Apriamo il blocco note e scriviamo le seguenti istruzioni:</p><table><thead><tr><th>&lt;?php phpinfo(); ?></th></tr></thead></table><p>Otterremo qualcosa di simile:</p><p><img src=/image/articoli/Art1/PHP/php-03.png alt></p><p>Salviamo il file appena creato nella cartella &ldquo;C:\Inetpub\wwwroot\&rdquo; impostando il nome a <strong>info.php</strong>. Per evitare che il blocco note automaticamente aggiunga l&rsquo;estensione .txt è possibile salvare il file scrivendo il nome tra virgolette, ovvero nel campo <em>Nome file</em> della finestra <em>Salva con nome</em> scrivere <strong>&ldquo;info.php&rdquo;.</strong> Adesso proviamo a lanciare il nostro piccolo script appena realizzato: apriamo il browser e digitiamo il seguente indirizzo: <a href=http://localhost/info.php>http://localhost/info.php</a> Se tutto è stato eseguito correttamente otterremo la seguente pagina:</p><p><img src=/image/articoli/IIS/fine.png alt></p><p>Attraverso questa pagina possiamo verificare diverse cose. Innanzitutto possiamo avere conferma che il file di configurazione &ldquo;php.ini&rdquo; sia stato correttamente caricato. Infatti il suo percorso (se non ci sono stati problemi) sarà presente tra i primi parametri visualizzati.</p><p>Scorrendo la pagina ottenuta potremo anche verificare il corretto caricamento delle estensioni (ad es. mysql, mbstring, gd) che abbiamo impostato nel php.ini.</p><p>Un&rsquo;ultima nota: a volte si verificano problemi di &ldquo;accesso negato&rdquo; durante l&rsquo;esecuzione di script PHP. Questi sono riconducibili principalmente a 2 fattori. Possono dipendere o dalle normali impostazioni sui diritti di accesso dei files in partizioni NTFS, oppure possono essere legate alle politiche di accesso del server IIS. Nel primo caso tali problemi si risolvono agendo sulle impostazioni di accesso di Windows XP relative ai file o alle cartelle coinvolte. Nel secondo caso i permessi vanno modificati dalla console di amministrazione di IIS.</p><p>L&rsquo;installazione è terminata, non mi resta che augurarvi buon divertimento con IIS e PHP!</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/database/ rel=tag>database</a></li><li class=tags__item><a class="tags__link btn" href=/tags/mysql/ rel=tag>MySQL</a></li><li class=tags__item><a class="tags__link btn" href=/tags/gd/ rel=tag>GD</a></li></ul></div></footer></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/articoli/il-passaggio-delle-variabili-e-la-gestione-dello-stato/ rel=prev><span class=pager__subtitle>«&#8201;Precedente</span><p class=pager__title>Il passaggio delle variabili e la gestione dello stato</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/articoli/evitare-laccesso-diretto-ad-un-file/ rel=next><span class=pager__subtitle>Prossimo&#8201;»</span><p class=pager__title>Evitare l'accesso diretto ad un file</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//giovannitomasicchio-it.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Giovanni Tomasicchio.
<span class=footer__copyright-credits>Generato con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> e il tema <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>