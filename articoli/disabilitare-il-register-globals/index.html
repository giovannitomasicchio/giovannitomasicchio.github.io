<!doctype html><html class=no-js lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Disabilitare il register_globals - Giovanni Tomasicchio</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Disabilitare il register_globals con PHP"><meta property="og:title" content="Disabilitare il register_globals"><meta property="og:description" content="Disabilitare il register_globals con PHP"><meta property="og:type" content="article"><meta property="og:url" content="https://www.giovannitomasicchio.it/articoli/disabilitare-il-register-globals/"><meta property="article:section" content="articoli"><meta property="article:published_time" content="2005-12-01T17:36:48+00:00"><meta property="article:modified_time" content="2005-12-01T17:36:48+00:00"><meta itemprop=name content="Disabilitare il register_globals"><meta itemprop=description content="Disabilitare il register_globals con PHP"><meta itemprop=datePublished content="2005-12-01T17:36:48+00:00"><meta itemprop=dateModified content="2005-12-01T17:36:48+00:00"><meta itemprop=wordCount content="421"><meta itemprop=keywords content="Joomla!,sicurezza,cookie,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Disabilitare il register_globals"><meta name=twitter:description content="Disabilitare il register_globals con PHP"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic|Kaushan+Script:regular"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-525H86QENV"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-525H86QENV',{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Giovanni Tomasicchio" rel=home><div class="logo__item logo__text"><div class=logo__title>Giovanni Tomasicchio</div><div class=logo__tagline>not just code monkeys</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/articoli/><span class=menu__text>Articoli PHP</span></a></li><li class=menu__item><a class=menu__link href=/corsi/><span class=menu__text>Corsi</span></a></li><li class=menu__item><a class=menu__link href=/ricerca/><span class=menu__text>Ricerca</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Disabilitare il register_globals</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2005-12-01T17:36:48Z>1 December 2005</time></div></div></header><div class="content post__content clearfix"><p>Se nel php.ini è abilitata la direttiva <strong>register_globals</strong> il PHP crea automaticamente, all&rsquo;avvio di ogni script, delle variabili globali con i dati provenienti dall&rsquo;URL, dai form, dai cookies, dalla sessione, dal server web e dal browser.</p><p>Se inizialmente questa possibilità sembrò allettante poiché permetteva un immediato accesso a tutte queste informazioni, ben presto ci si accorse che costituiva un serio rischio per la sicurezza degli script. Così dalla versione 4.2 di PHP di default il register_globals è disabilitato.</p><p>Molti script tuttora circolanti sono stati realizzati per funzionare con il register_globals ad On e questo ha spinto diversi fornitori di hosting a lasciare tale direttiva abilitata. Per ovviare a questo potenziale inconveniente ci sono diverse strade.</p><p>La più semplice ed immediata consiste nel creare (o modificare) il file <strong>.htaccess</strong> nella cartella principale del nostro sito all&rsquo;iterno del quale scriveremo:</p><pre><code>
php_flag register_globals Off
</code></pre><p>Questa operazione ha effetti simili alla modifica diretta del php.ini A volte però non è possibile usare il file .htaccess, ad esempio se stiamo usando IIS come server web. In questi casi è possibile risolvere il problema con un semplice ma efficace script che di seguito vi riporto integralmente.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#e6db74>/**
</span><span style=color:#e6db74>* @version $Id: globals.php-off 47 2005-09-15 02:55:27Z rhuk $
</span><span style=color:#e6db74>* @package Joomla
</span><span style=color:#e6db74>* @copyright Copyright (C) 2005 Open Source Matters. All rights reserved.
</span><span style=color:#e6db74>* @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.php
</span><span style=color:#e6db74>* Joomla! is free software and parts of it may contain or be derived from the
</span><span style=color:#e6db74>* GNU General Public License or other free or open source software licenses.
</span><span style=color:#e6db74>* See COPYRIGHT.php for copyright notices and details.
</span><span style=color:#e6db74>*/</span>

<span style=color:#e6db74>/**
</span><span style=color:#e6db74>* Emulates register globals = off
</span><span style=color:#e6db74>*/</span>
<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>unregister_globals</span> () {
   $REQUEST <span style=color:#f92672>=</span> $_REQUEST;
   $GET <span style=color:#f92672>=</span> $_GET;
   $POST <span style=color:#f92672>=</span> $_POST;
   $COOKIE <span style=color:#f92672>=</span> $_COOKIE;
   <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isset</span> ( $_SESSION )) {
       $SESSION <span style=color:#f92672>=</span> $_SESSION;
   }
   $FILES <span style=color:#f92672>=</span> $_FILES;
   $ENV <span style=color:#f92672>=</span> $_ENV;
   $SERVER <span style=color:#f92672>=</span> $_SERVER;
   <span style=color:#66d9ef>foreach</span> ($GLOBALS <span style=color:#66d9ef>as</span> $key <span style=color:#f92672>=&gt;</span> $value) {
       <span style=color:#66d9ef>if</span> ( $key <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;GLOBALS&#39;</span> ) {
           <span style=color:#a6e22e>unset</span> ( $GLOBALS [ $key ] );
       }
   }
   $_REQUEST <span style=color:#f92672>=</span> $REQUEST;
   $_GET <span style=color:#f92672>=</span> $GET;
   $_POST <span style=color:#f92672>=</span> $POST;
   $_COOKIE <span style=color:#f92672>=</span> $COOKIE;
   <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isset</span> ( $SESSION )) {
       $_SESSION <span style=color:#f92672>=</span> $SESSION;
   }
   $_FILES <span style=color:#f92672>=</span> $FILES;
   $_ENV <span style=color:#f92672>=</span> $ENV;
   $_SERVER <span style=color:#f92672>=</span> $SERVER;
}
<span style=color:#a6e22e>unregister_globals</span>();
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Come avrete notato leggendo l&rsquo;intestazione si tratta di uno script preso dal famoso CMS <a href=http://www.joomla.org/>Joomla</a>. Il suo funzionamento è molto semplice: per prima cosa vengono salvati tutti gli array superglobali in diverse variabili locali, poi si procede alla cancellazione delle variabili globali ed infine vengono ripristinati gli array superglobali. Includendo questo file all&rsquo;inizio di uno script sarà come lavorare con il register_globals disabilitato.</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/joomla/ rel=tag>Joomla!</a></li><li class=tags__item><a class="tags__link btn" href=/tags/sicurezza/ rel=tag>sicurezza</a></li><li class=tags__item><a class="tags__link btn" href=/tags/cookie/ rel=tag>cookie</a></li></ul></div></footer></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/articoli/lestensione-mysqli-iii/ rel=prev><span class=pager__subtitle>«&#8201;Precedente</span><p class=pager__title>L'estensione mysqli - III</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/articoli/individuare-sistema-operativo-e-browser-dellutente/ rel=next><span class=pager__subtitle>Prossimo&#8201;»</span><p class=pager__title>Individuare sistema operativo e browser dell'utente</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Giovanni Tomasicchio.
<span class=footer__copyright-credits>Generato con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> e il tema <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>