<!doctype html><html class=no-js lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Installare Apache 2, PHP 5, MySQL 4.1 su Windows - Giovanni Tomasicchio</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Guida all'installazione di Apache 2, PHP 5, MySQL 4.1 su Windows 2000 XP"><meta property="og:title" content="Installare Apache 2, PHP 5, MySQL 4.1 su Windows"><meta property="og:description" content="Guida all'installazione di Apache 2, PHP 5, MySQL 4.1 su Windows 2000 XP"><meta property="og:type" content="article"><meta property="og:url" content="https://www.giovannitomasicchio.it/articoli/installare-apache-2-php-5-mysql-41-su-windows/"><meta property="article:section" content="articoli"><meta property="article:published_time" content="2004-11-05T22:44:58+00:00"><meta property="article:modified_time" content="2004-11-05T22:44:58+00:00"><meta itemprop=name content="Installare Apache 2, PHP 5, MySQL 4.1 su Windows"><meta itemprop=description content="Guida all'installazione di Apache 2, PHP 5, MySQL 4.1 su Windows 2000 XP"><meta itemprop=datePublished content="2004-11-05T22:44:58+00:00"><meta itemprop=dateModified content="2004-11-05T22:44:58+00:00"><meta itemprop=wordCount content="2430"><meta itemprop=keywords content="database,MySQL,Apache,sicurezza,email,mysqli,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installare Apache 2, PHP 5, MySQL 4.1 su Windows"><meta name=twitter:description content="Guida all'installazione di Apache 2, PHP 5, MySQL 4.1 su Windows 2000 XP"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic,700,700italic,800,800italic|Kaushan+Script:regular"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-525H86QENV"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-525H86QENV',{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Giovanni Tomasicchio" rel=home><div class="logo__item logo__text"><div class=logo__title>Giovanni Tomasicchio</div><div class=logo__tagline>not just code monkeys</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/articoli/><span class=menu__text>Articoli PHP</span></a></li><li class=menu__item><a class=menu__link href=/corsi/><span class=menu__text>Corsi</span></a></li><li class=menu__item><a class=menu__link href=/ricerca/><span class=menu__text>Ricerca</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Installare Apache 2, PHP 5, MySQL 4.1 su Windows</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2004-11-05T22:44:58Z>5 November 2004</time></div></div></header><div class="content post__content clearfix"><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=/articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><p>In questo tutorial mostreremo in dettaglio le procedure di installazione e configurazione di Apache 2, PHP 5 e MySQL 4.1 su Windows 2000/XP. Il nostro scopo principale è quello di ottenere una piattaforma di sviluppo per poter realizzare e testare le nostre applicazioni PHP-MySQL.</p><p>Abbiamo preso in considerazione le versioni più recenti dei vari software così da poterne sperimentare le caratteristiche e novità, alcune delle quali saranno evidenti già in fase di installazione. Per questo motivo il sistema che andiamo a realizzare non è adatto per un utilizzo come server di produzione infatti, nonostante molti servizi di hosting propongano server Apache 2 - PHP 5, questa accoppiata è ancora considerata instabile e l&rsquo;installazione di Apache 1.3 è da preferirsi in questi casi.</p><p>La procedura verrà suddivisa nelle seguenti fasi:</p><ul><li>Installazione di Apache 2</li><li>Installazione di PHP 5</li><li>Installazione di MySQL 4.1</li><li>Configurazione e test di PHP5-MySQL4.1 con l&rsquo;estensione mysqli e mysql</li></ul><p>Dall&rsquo;esperienza di diversi utenti che hanno seguito questo tutorial è emerso che i problemi che più frequentemente si incontrano sono dovuti principalmente a precedenti installazioni dei suddetti software ancora presenti nel sistema. Quindi è estremamente consigliato verificare, prima di procedere, che sul vostro PC non siano presenti files o cartelle appartenenti a vecchie versioni di Apache, PHP e MySQL.</p><hr><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><h3 id=installare-apache-2>Installare Apache 2</h3><p>Anche se Windows 2000 ed alcune versioni di Windows XP posseggono al loro interno un web server (Internet Information Services o più brevemente IIS) è preferibile, nello sviluppo di applicazioni PHP, l&rsquo;utilizzo del server Apache. Infatti Apache non è solo un valido web server ed in molte situazioni superiore ad IIS, ma è anche il web server che più comunemente ci verrà messo a disposizione dai fornitori di servizi di hosting.</p><p>L&rsquo;installazione di Apache 2 è molto semplice, per prima cosa dobbiamo scaricare dal <a href=http://httpd.apache.org/download.cgi>sito ufficiale</a> il file di installazione denominato &ldquo;Win32 Binary (MSI Installer)&rdquo;. Nel momento in cui scriviamo, il nome del file associato è apache_2.0.52-win32-x86-no_ssl.msi</p><p>Effettuato il download lanciamo l&rsquo;installer che ci presenterà la seguente schermata:</p><p><img src=/image/articoli/Art1/Apache/apache-01.png alt=apache-01.png></p><p>Dopo aver premuto il tasto <em>Next</em> ci verrà chiesto di accettare la licenza:</p><p><img src=/image/articoli/Art1/Apache/apache-02.png alt=apache-02.png></p><p>Accettata la licenza ci verranno mostrate altre informazioni sul software che andiamo ad installare:</p><p><img src=/image/articoli/Art1/Apache/apache-03.png alt=apache-03.png></p><p>Procedendo con l&rsquo;installazione ci verrà chiesto di fornire alcune informazioni circa il dominio di rete, il nome del server ed un indirizzo email dell&rsquo;amministratore. Poiché stiamo configurando un server di sviluppo, possiamo rispondere in maniera fantasiosa, senza compromettere il risultato finale.</p><p><img src=/image/articoli/Art1/Apache/apache-04.png alt=apache-04.png></p><p>La prossima schermata ci chiederà di indicare il tipo di installazione che intendiamo fare: optiamo per una installazione tipica.</p><p><img src=/image/articoli/Art1/Apache/apache-05.png alt=apache-05.png></p><p>Adesso ci viene data la possibilità di scegliere in quale cartella installare Apache. Accettiamo quella che ci viene proposta.</p><p><img src=/image/articoli/Art1/Apache/apache-06.png alt=apache-06.png></p><p>Prima di procedere con la vera e propria installazione di Apache ci viene data un ultima possibilità di tornare indietro per effettuare eventuali modifiche alla configurazione:</p><p><img src=/image/articoli/Art1/Apache/apache-07.png alt=apache-07.png></p><p>Procediamo premendo il tasto <em>Install</em>.</p><p><img src=/image/articoli/Art1/Apache/apache-08.png alt=apache-08.png></p><p>Dopo poche decine di secondi l&rsquo;installazione sarà conclusa e ci verrà proposta la seguente schermata:</p><p><img src=/image/articoli/Art1/Apache/apache-09.png alt=apache-09.png></p><p>A conferma della corretta installazione, una nuova icona nel system tray ci informa dello stato del server Apache. Una freccia verde indica che Apache è in esecuzione sulla nostra macchina.</p><p><img src=/image/articoli/Art1/Apache/apache-10.png alt=apache-10.png></p><p>Per avere un&rsquo;ulteriore prova del corretto funzionamento di Apache, apriamo il browser e digitiamo il seguente indirizzo: <a href=http://localhost/>http://localhost/</a>.</p><p>Se tutto è andato bene ci verrà mostrata la seguente pagina.</p><p><img src=/image/articoli/Art1/Apache/apache-11.png alt=apache-11.png></p><hr><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><h3 id=installare-php-5>Installare PHP 5</h3><p>L&rsquo;installazione di PHP 5 e la sua integrazione in Apache spesso risultano ostiche ai novizi. In realtà la procedura da seguire è abbastanza semplice e richiede solo un po' di attenzione.</p><p>Procuriamoci il pacchetto compresso di PHP 5 scaricandolo da <a href=http://www.php.net/downloads.php>questa pagina</a>. E' molto importante non scaricare l&rsquo;installer di PHP 5 poiché questo non contiene quelle estensioni che permettono, tra le altre decine di funzionalità, di connetterci a database MySQL. Scegliamo quindi il file indicato con il nome <strong>PHP 5.0.4 zip package</strong> (o una versione più recente se disponibile). Dopo averlo scaricato, creiamo la cartella <strong>C:\php</strong> e scompattiamo al suo interno il contenuto del pacchetto zippato di PHP 5. Cerchiamo il file di nome <strong>php5ts.dll</strong> nella cartella C:\php e spostiamolo nella cartella di Windows <strong>C:\windows</strong>.</p><p>Adesso dobbiamo integrare il PHP 5 all&rsquo;interno di Apache. Per prima cosa apriamo la cartella nella quale abbiamo installato Apache, nel nostro caso <strong>C:\Programmi\Apache Group\Apache2</strong> e cerchiamo al suo interno la cartella <strong>conf</strong>. In questa cartella è presente il file httpd.conf ovvero il principale file di configurazione di Apache. Apriamolo con un editor (il blocco note va benissimo) ed andiamo ad individuare al suo interno un lungo elenco di righe che iniziano con la parola <em>LoadModule</em>. Portiamoci alla fine di questo elenco ed aggiungiamo le seguenti righe e salviamo i cambiamenti.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#a6e22e>LoadModule</span> <span style=color:#a6e22e>php5_module</span> <span style=color:#e6db74>&#34;c:/php/php5apache2.dll&#34;</span>
<span style=color:#a6e22e>AddType</span> <span style=color:#a6e22e>application</span><span style=color:#f92672>/</span><span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#a6e22e>httpd</span><span style=color:#f92672>-</span><span style=color:#a6e22e>php</span> <span style=color:#f92672>.</span><span style=color:#a6e22e>php</span>
<span style=color:#a6e22e>PHPIniDir</span> <span style=color:#e6db74>&#34;C:/php&#34;</span>
</code></pre></div><p>Ecco il risultato ottenuto usando il blocco note:</p><p><img src=/image/articoli/Art1/PHP/php-01.png alt=php-01.png></p><p>Come ultima operazione dobbiamo tornare nella cartella <strong>C:\php</strong> e rinominare il file <strong>php.ini-dist</strong> in <strong>php.ini</strong> che costituisce il file di configurazione di PHP. Per rendere effettive le modifiche fatte alla configurazione di Apache dobbiamo riavviarlo. Clicchiamo quindi due volte sull&rsquo;icona di Apache presente nel system tray (l&rsquo;icona a forma di piuma rossa con una freccia verde all&rsquo;interno), ci apparirà la seguente schermata:</p><p><img src=/image/articoli/Art1/PHP/php-02.png alt=php-02.png></p><p>Per riavviare Apache sarà sufficiente cliccare sul pulsante <em>Restart</em>. La procedura dura pochi secondi, se non vengono visualizzati errori significa che tutto è andato a buon fine. Per sincerarcene realizziamo un piccolo script PHP. Apriamo il blocco note e scriviamo le seguenti istruzioni:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#a6e22e>phpinfo</span>();
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Otterremo qualcosa di simile:</p><p><img src=/image/articoli/Art1/PHP/php-03.png alt=php-03.png></p><p>Salviamo il file appena creato nella cartella <strong>htdocs</strong> di Apache (nel nostro caso <strong>C:\Programmi\Apache Group\Apache2\htdocs</strong>) impostando il nome a <strong>info.php</strong>. Per evitare che il blocco note automaticamente aggiunga l&rsquo;estensione .txt è possibile salvare il file scrivendo il nome tra virgolette, ovvero nel campo Nome file della finestra Salva con nome scrivere <strong>&ldquo;info.php&rdquo;</strong>. Adesso proviamo a lanciare il nostro piccolo script appena realizzato: apriamo il browser e digitiamo il seguente indirizzo: <a href=http://localhost/info.php>http://localhost/info.php</a> Se tutto è stato eseguito correttamente otterremo la seguente pagina:</p><p><img src=/image/articoli/Art1/PHP/php_05.png alt=php_05.png></p><hr><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><h3 id=installare-mysql-41>Installare MySQL 4.1</h3><p>MySQL 4.1 è stato dichiarato pronto per la produzione e quindi non esitiamo ad installare questa nuova versione del Database Menagement System più comunemente utilizzato in applicazione PHP.</p><p>Prima di tutto, procuriamoci il file di installazione di MySQL 4.1 che possiamo scaricare a <a href=http://dev.mysql.com/downloads/mysql/4.1.html>questo indirizzo</a>. Il nome del file in questione è <strong>mysql-4.1.7-win.zip</strong> ma la seguente procedura dovrebbe rimanere valida anche in caso siano disponibili versioni 4.1.x più recenti. Scompattiamo il contenuto del file in una cartella e lanciamo il file setup ottenuto dalla precedente operazione.</p><p>Tra le novità presenti nella versione 4.1 di MySQL, spicca subito il nuovo programma di installazione e configurazione, chiaro e semplice da usare. Ecco la schermata che introduce il processo di installazione:</p><p><img src=/image/articoli/Art1/MySQL/mysql-01.png alt=mysql-01.png></p><p>Dopo aver premuto il tasto <em>Next</em> ci viene chiesto il tipo di installazione che intendiamo effettuare. Possiamo scegliere tra una installazione tipica, una completa ed una personalizzabile.</p><p><img src=/image/articoli/Art1/MySQL/mysql-02.png alt=mysql-02.png></p><p>Optiamo per l&rsquo;installazione tipica e procediamo premendo il tasto <em>Next</em>:</p><p><img src=/image/articoli/Art1/MySQL/mysql-03.png alt=mysql-03.png></p><p>Adesso ci vengono elencate le opzioni di installazione che abbiamo indicato nei passi precedenti. Si noti che la cartella nella quale verranno copiati i files di MySQL è stata impostata automaticamente. Questo perchè abbiamo scelto di procedere con una installazione tipica. Se tutto è corretto possiamo procedere:</p><p><img src=/image/articoli/Art1/MySQL/mysql-04.png alt=mysql-04.png></p><p>Ora ci viene proposto di registrarci al sito MySQL.com per la creazione di un account. Questa procedura non è necessaria e quindi possiamo saltarla.</p><p><img src=/image/articoli/Art1/MySQL/mysql-05.png alt=mysql-05.png></p><p>La precedente schermata ci avvisa che l&rsquo;installazione è conclusa. Possiamo procedere con la configurazione del nostro server MySQL</p><p><img src=/image/articoli/Art1/MySQL/mysql-06.png alt=mysql-06.png></p><p>Dopo aver premuto il tasto Next ci verrà chiesto che tipo di configurazione vogliamo fare: dettagliata o standard.</p><p><img src=/image/articoli/Art1/MySQL/mysql-07.png alt=mysql-07.png></p><p>La configurazione dettagliata permette di impostare il server MySQL con parametri appropriati al tipo di utilizzo che se ne intende fare. Quella standard invece imposterà settaggi generici ed è indicata come configurazione iniziale. Procediamo quindi con la configurazione standard.</p><p><img src=/image/articoli/Art1/MySQL/mysql-08.png alt=mysql-08.png></p><p>Adesso ci viene chiesto se vogliamo che MySQL sia installato come servizio di Windows. Come ci viene suggerito, questa è la soluzione migliore. Impostiamo anche il nome da dare al servizio (MySQL va benissimo) ed indichiamo che dovrà essere lanciato automaticamente all&rsquo;avvio di Windows.</p><p><img src=/image/articoli/Art1/MySQL/mysql-09.png alt=mysql-09.png></p><p>Questa finestra invece serve per impostare le opzioni di sicurezza. Scegliamo di modificare le impostazioni di sicurezza e forniamo una password per l&rsquo;utente root (l&rsquo;utente principale di MySQL). Per questo esempio useremo la password testpass. E' importante non dimenticare la password che andiamo ad inserire in questa schermata, sarà quella che useremo per connetterci al database nei prossimi esempi. Dato che stiamo realizzando una piattaforma di sviluppo selezioniamo anche l&rsquo;opzione per impedire all&rsquo;utente root l&rsquo;accesso a MySQL da altri computers. Procediamo quindi premendo il tasto <em>Next</em>.</p><p><img src=/image/articoli/Art1/MySQL/mysql-10.png alt=mysql-10.png></p><p>Dopo pochi secondi necessari alla preparazione della configurazione e all&rsquo;avvio di MySQL ci verrà mostrata la seguente schermata conclusiva:</p><p><img src=/image/articoli/Art1/MySQL/mysql-11.png alt=mysql-11.png></p><p>Se vogliamo avere conferma che MySQL è stato avviato ed è attivo sulla nostra macchina è sufficiente visualizzare l&rsquo;elenco dei servizi installati, raggiungibile dal pannello di controllo.</p><p><img src=/image/articoli/Art1/MySQL/mysql-12.png alt=mysql-12.png></p><p>Come possiamo osservare, il servizio &ldquo;MySQL&rdquo; è attivo.</p><hr><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><h3 id=usare-php-5-con-mysql-41>Usare PHP 5 con MySQL 4.1</h3><p>Le novità introdotte con la versione 4.1 di MySQL sono diverse e perciò gli sviluppatori di PHP, invece di aggiornare l&rsquo;attuale estensione <em><strong>mysql</strong></em>, ovvero la libreria che permette al PHP di interagire con MySQL, ne hanno realizzato una nuova, dal nome <em><strong>mysqli</strong></em> (mysql improved).</p><p>Mysqli non solo permette di sfruttare a pieno le nuove caratteristiche di MySQL 4.1 ma offre anche interessanti novità come ad esempio un completo set di classi che permettono un approccio della programmazione orientato agli oggetti. Se siete interessati ad approfondire l&rsquo;argomento potete consultare <a href=/articoli/estensione-mysqli-i/>questo articolo</a>.</p><p>Mostreremo quindi i passi necessari per abilitare sia l&rsquo;estensione mysql sia la nuova mysqli. Bisognerà scegliere quale delle due procedure eseguire in relazione alle applicazioni PHP che si intende far giare.</p><p>Se si vogliono provare le nuove caratteristiche di MySQL 4.1 dovremo installare l&rsquo;estensione mysqli mentre se vorremo testare la compatibilità di script PHP di non recente realizzazione l&rsquo;estensione mysql farà al caso nostro. E' comunque possibile installarle entrambe.</p><hr><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><h3 id=installare-lestensione-mysqli>Installare l&rsquo;estensione mysqli</h3><p>Come abbiamo detto, l&rsquo;estensione mysqli supporta nativamente MySQL 4.1 e ci permette di sfruttarne a pieno le nuove capacità. Per installarla eseguiamo la seguente procedura.</p><p>Per prima cosa cerchiamo il file <strong>libmysql.dll</strong> nella cartella di PHP (<strong>C:\php</strong>) e copiamolo nella cartella di windows (<strong>C:\windows</strong>).</p><p>Apriamo poi con un editor (nel nostro esempio useremo il blocco note) il file <strong>php.ini</strong> presente nella cartella <strong>C:\php</strong>. Cerchiamo la riga che inizia per <strong>extension_dir</strong> e modifichiamola in modo che punti alla cartella delle estensioni di PHP <strong>C:\php\ext</strong> come mostrato nella seguente figura:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql-php-04.png alt=mysql-php-04.png></p><p>Fatto ciò scorriamo il file cercando un lungo elenco di righe che iniziano tutte per <strong>;extension</strong>. Portiamoci alla fine di questo elenco e scriviamo la seguente riga:</p><p><strong>extension=php_mysqli.dll</strong></p><p>Il risultato dovrà essere simile a quello mostrato nella seguente finestra</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysqli1.png alt=mysqli1.png></p><p>A questo punto riavviamo Apache come mostrato precedentemente (doppio clic sull&rsquo;icona di Apache nel system tray, e premere il pulsante <em>Restart Apache</em>). Per verificare che PHP ha caricato correttamente l&rsquo;estensione mysqli apriamo il browser e digitiamo l&rsquo;indirizzo <a href=http://localhost/info.php>http://localhost/info.php</a>. Circa a metà della pagina che ci verrà mostrata troveremo le seguenti indicazioni:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysqli3.png alt=mysqli3.png></p><p>Adesso proviamo a collegarci con uno script PHP al nostro database MySQL. Apriamo il blocco note (o l&rsquo;editor che preferite) e scriviamo il seguente codice:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
$link <span style=color:#f92672>=</span> <span style=color:#a6e22e>mysqli_connect</span>(<span style=color:#e6db74>&#34;localhost&#34;</span>, <span style=color:#e6db74>&#34;root&#34;</span>, <span style=color:#e6db74>&#34;testpass&#34;</span>);
<span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>$link) {
   <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Connessione non riuscita: %sn&#34;</span>, <span style=color:#a6e22e>mysqli_connect_error</span>());
   <span style=color:#66d9ef>exit</span>();
}
<span style=color:#66d9ef>else</span> {
   <span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#39;Connesso con successo&#39;</span>;
}
<span style=color:#a6e22e>mysqli_close</span>($link);
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Fate attenzione ad inserire nel codice (seconda riga) la corretta password di accesso. Dovrà essere la stessa che avete usato durante l&rsquo;installazione di MySQL. Nel nostro esempio è impostata a &ldquo;testpass&rdquo;.</p><p>Ecco come appare la finestra del blocco note usata nel nostro esempio:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysqli2.png alt=mysqli2.png></p><p>Salvate lo script appena realizzato con il nome <strong>testmysql.php</strong> nella cartella <strong>htdocs</strong> di Apache (nel nostro caso <strong>C:\Programmi\Apache Group\Apache2\htdocs</strong>) . Ricordiamo che per evitare che il blocco note automaticamente aggiunga l&rsquo;estensione .txt è possibile salvare il file scrivendo il nome tra virgolette (<strong>&ldquo;testmysql.php&rdquo;</strong>). Adesso proviamo a lanciare il nostro piccolo script di test: apriamo il browser e digitiamo il seguente indirizzo: <a href=http://localhost/testmysql.php>http://localhost/testmysql.php</a>. Se tutto è stato eseguito correttamente otterremo il seguente risultato:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql-php-08.png alt=mysql-php-08.png></p><p>Nel caso la connessione non riuscisse si otterrà un messaggio di errore esplicativo.</p><hr><p><strong>ATTENZIONE !!!</strong>
La versione più aggiornata di questa guida è <a href=articoli/installare-apache-22-php-52-e-mysql-5-su-windows/>disponibile qui</a></p><h3 id=installare-lestensione-mysql>Installare l&rsquo;estensione mysql</h3><p>Se vogliamo provare a fare girare script PHP di non recente realizzazione che usano le tradizionali funzioni di connessione a MySQL (in realtà si tratta ancora oggi della stragrande maggioranza) dobbiamo installare la vecchia estensione mysql.</p><p>Per prima cosa cerchiamo il file <strong>libmysql.dll</strong> presente nella cartella di PHP (<strong>C:\php</strong>) e copiamolo nella cartella di windows (<strong>C:\windows</strong>).</p><p>Apriamo poi con un editor (nel nostro esempio useremo il blocco note) il file <strong>php.ini</strong> presente nella cartella <strong>C:\php</strong>. Cerchiamo la riga che inizia per <strong>extension_dir</strong> e modifichiamola in modo che punti alla cartella delle estensioni di PHP <strong>C:\php\ext</strong> come mostrato nella seguente figura:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql-php-04.png alt=mysql-php-04.png></p><p>Fatto ciò scorriamo il file cercando un lungo elenco di righe che iniziano tutte per ;extension. Individuiamo in questo elenco la riga <strong>;extension=php_mysql.dll</strong> e cancelliamo il punto e virgola iniziale come mostrato nella successiva schermata:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql-php-05.png alt=mysql-php-05.png></p><p>Adesso riavviamo Apache come mostrato precedentemente (doppio clic sull&rsquo;icona di Apache nel system tray, e premere il pulsante <em>Restart Apache</em>). Per verificare che PHP ha caricato correttamente l&rsquo;estensione di MySQL apriamo il browser e digitiamo l&rsquo;indirizzo <a href=http://localhost/info.php>http://localhost/info.php</a>. Circa a metà della pagina che ci verrà mostrata troveremo le seguenti indicazioni:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql_php_06.png alt=mysql_php_06.png></p><p>Ora tutto è pronto per testare uno script PHP-MySQL. Apriamo il blocco note (o l&rsquo;editor che preferite) e scriviamo il seguente codice:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
$connessione <span style=color:#f92672>=</span> <span style=color:#a6e22e>mysql_connect</span>(<span style=color:#e6db74>&#34;localhost&#34;</span>, <span style=color:#e6db74>&#34;root&#34;</span>, <span style=color:#e6db74>&#34;testpass&#34;</span>)
   <span style=color:#66d9ef>or</span> <span style=color:#66d9ef>die</span>(<span style=color:#e6db74>&#34;Connessione non riuscita: &#34;</span> <span style=color:#f92672>.</span> <span style=color:#a6e22e>mysql_error</span>());

<span style=color:#66d9ef>print</span> (<span style=color:#e6db74>&#34;Connesso con successo&#34;</span>);

<span style=color:#a6e22e>mysql_close</span>($connessione);
<span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>Fate attenzione ad inserire nel codice (seconda riga) la corretta password di accesso. Dovrà essere la stessa che avete usato durante l&rsquo;installazione di MySQL. Nel nostro esempio è impostata a &ldquo;testpass&rdquo;.</p><p>Ecco come appare la finestra del blocco note usata nel nostro esempio:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql-php-07.png alt=mysql-php-07.png></p><p>Salvate lo script appena realizzato con il nome <strong>testmysql.php</strong> nella cartella <strong>htdocs</strong> di Apache (nel nostro caso <strong>C:\Programmi\Apache Group\Apache2\htdocs</strong>) . Ricordiamo che per evitare che il blocco note automaticamente aggiunga l&rsquo;estensione .txt è possibile salvare il file scrivendo il nome tra virgolette (<strong>&ldquo;testmysql.php&rdquo;</strong>). Adesso proviamo a lanciare il nostro piccolo script di test: apriamo il browser e digitiamo il seguente indirizzo: <a href=http://localhost/testmysql.php>http://localhost/testmysql.php</a> .Se tutto è stato eseguito correttamente otterremo il seguente risultato:</p><p><img src=/image/articoli/Art1/PHP_MySQL/mysql-php-08.png alt=mysql-php-08.png></p><p>Se invece PHP non riesce a connettersi al nostro database MySQL ci verrà mostrato un messaggio di errore contenente indicazioni sul problema verificatosi.</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/database/ rel=tag>database</a></li><li class=tags__item><a class="tags__link btn" href=/tags/mysql/ rel=tag>MySQL</a></li><li class=tags__item><a class="tags__link btn" href=/tags/apache/ rel=tag>Apache</a></li><li class=tags__item><a class="tags__link btn" href=/tags/sicurezza/ rel=tag>sicurezza</a></li><li class=tags__item><a class="tags__link btn" href=/tags/email/ rel=tag>email</a></li><li class=tags__item><a class="tags__link btn" href=/tags/mysqli/ rel=tag>mysqli</a></li></ul></div></footer></article></main><nav class="pager flex"><div class="pager__item pager__item--next"><a class=pager__link href=/articoli/le-sessioni/ rel=next><span class=pager__subtitle>Prossimo&#8201;»</span><p class=pager__title>Le sessioni</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Giovanni Tomasicchio.
<span class=footer__copyright-credits>Generato con <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> e il tema <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>